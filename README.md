Zimbra Upload
=============
PHP wrapper library around the Zimbra upload service.

## Requirement
* PHP >= 7.4.x,
* [Http Discovery](https://docs.php-http.org/en/latest/discovery.html) library for finding installed clients and message factories,
* [Multipart Stream Builder](https://docs.php-http.org/en/latest/components/multipart-stream-builder.html) a builder for Multipart PSR-7 Streams,
* (optional) PHPUnit to run tests,

## Installation
Via Composer
```bash
$ composer require zimbra-api/upload-api
```
or just add it to your `composer.json` file directly.

```javascript
{
    "require": {
        "zimbra-api/upload-api": "*"
    }
}
```

## Basic usage of `zimbra` upload client
```php
<?php
// This file is generated by Composer
require_once 'vendor/autoload.php';

use Zimbra\Upload\Client;
use Zimbra\Upload\Request;

$file = new \SplFileInfo($filePath);
$request = new Request([$file], $requestId);
$client = new Client('https://server.zimbra/service/upload', $authToken);
$attachments = $client->upload($request);
```
`$authToken` is user authentication token, it can obtain from zimbra soap api.
```php
<?php
// This file is generated by Composer
require_once 'vendor/autoload.php';

use Zimbra\Account\AccountApi;

$api = new AccountApi('https://server.zimbra/service/soap');
$auth = $api->authByName('username', 'password');
$authToken = $auth->getAuthToken();
```

## Licensing
[BSD 3-Clause](LICENSE)

    For the full copyright and license information, please view the LICENSE
    file that was distributed with this source code.
